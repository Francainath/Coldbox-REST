<!doctype html>
<html>
	<head>
		<title>ColdBox REST</title>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<meta name="viewport" content="width=1024" />
		<link href="css/base.css" rel="stylesheet" />
		<link href="css/francainath.css" rel="stylesheet" />
		<link href="css/ckh-preso.css" rel="stylesheet" />
		<link rel="shortcut icon" href="favicon.png" />
		<link rel="icon" href="images/favicon.ico" type="image/x-icon">
	</head>

	<body class="impress-not-supported theme-2">
		<div id="impress">

			<div class="step 1" data-x="0" data-y="0">
				<img src="images/ColdBoxLogoSquare_125.png" class="pull-right">
				<h2 style="clear:both;" class="itb">REST APIs</h2>
				<span class="gray"><u class="gold">RE</u>presentational <u class="gold">S</u>tate<u class="gold">T</u>ransfer
				 of an<br>
				<u class="gold">A</u>pplication <u class="gold">P</u>rogramming <u class="gold">I</u>nterface</span>
			</div>

			<div class="step 2" data-x="-1500" data-y="0">
				<h4 class="itb">Who Am I?</h4>
				<img src="images/ckh-logo.png">
			</div>

			<div class="step 3" data-x="-2000" data-y="-2000" data-z="1000">
				<h5 class="itb">This is what I do:</h5>
				<ul style="list-style-type:circle">
					<li><img src="images/coldbox_200.png"> (+ <img src="images/jquery.png">)</li>
					<li><img src="images/ContentBox_150.png"></li>
					<li><img src="images/AngularJS-medium.png">  <img src="images/plus-sign.png">  <img src="images/coldbox_200.png">(<span class="gray"><strong>REST</strong></span>)</li>
				</ul>
			</div>

			<div class="step 4" data-x="0" data-y="-2000">
				<h5 class="itb">In the Beginning...</h5>
				<br>
				<img src="images/pre3cropped.png"><img src="images/2WayArrow150.png" style="margin-bottom:50px; margin-right:30px;"><img src="images/server-rack-260.png">
			</div>

			<div class="step 5" data-x="2000" data-y="-2000" data-z="-2000">
				<h5 class="itb">Changing landscape</h5>
				<img src="images/pre2Small.png"><img src="images/server-rack-260.png" style="float:right; position:relative; top:75px;">
				<br><img src="images/pre3cropped.png"><img src="images/2WayArrow150.png" style="position:relative; top:-200px; left:50px;">
			</div>

			<div class="step 6" data-x="2000" data-y="0">
				<h5 class="itb">Where we are today:</h5>
				<img src="images/pre.png">
			</div>

			<div class="step 7" data-x="2000" data-y="2000" data-z="2000">
				<h2 class='standout'>PROBLEM:</h2>
				<img src="images/confused-girl.jpg"><br>
				<span class="gray">How can we make our app work on <u class="gold">all</u> these devices?</span>

			</div>

			<div class="step 8" data-x="0" data-y="2000">
				<span class="itb">solution #1:</span> <span class="gold">RESPONSIVE DESIGN</span>
				<br><img src="images/firefox-internet-explorer-google-chrome-safari-opera.png" style="margin-left:130px;">
				<img src="images/foundation-header.jpg"><img src="images/twitter-bootstrap-logo.jpg" style="float:right;">
				<img src="images/toast-css-framework.png"><img src="images/yaml-logo.png" style="float:right;">
			</div>

			<div class="step 9" data-x="-2000" data-y="2000" data-z="-2000">
				<span class="itb">solution #2:</span> <span class="gold">CUSTOM APPS</span>
				<br>Unique app for each environement
				<br><br><img src="images/laptop-site-small.png">
					<img src="images/AndroidLogoSmall.png" style="margin-left:100px">
					<img src="images/ios-logo-small.png" style="float:right">
			</div>

			<div class="step 10" data-x="-4000" data-y="2000">
				<img src="images/wait.jpg">
				Are we gonna write a new app for<br>
				<span class="gold"><strong><u>EVERY DEVICE</u>?</strong></span>
			</div>

			<div id="video-step" class="step 11" data-x="-4000" data-y="0" data-rotate="90">
				<video id="video" width="900" height="700" controls>
					<source src="videos/Nope!.mp4" type="video/mp4">
				</video>
			</div>

			<div class="step 12" data-x="-4000" data-y="-2000">
				<img src="images/Olaf_Beach_Image.jpg">
			</div>

			<div class="step 13" data-x="-4000" data-y="-4000" data-rotate="-90">
				<h5 class="itb">ColdBox REST</h5>
				<img src="images/restDiagram.png" style="border:5px solid black;">
			</div>

			<div class="step 14" data-x="-2000" data-y="-4000">
				<h4 class="itb">REST APIs</h4>
				<u class="standout">RE</u>presentational <u class="standout">S</u>tate<u class="standout">T</u>ransfer
				 of an<br>
				<u class="standout">A</u>pplication <u class="standout">P</u>rogramming <u class="standout">I</u>nterface
				<span style="color:#FF9900;">We are going to transform our ColdBox program into an <span class="standout">API</span> and access it through a <span class="standout">REST</span>ful interface</span>
			</div>

			<div class="step 15" data-x="0" data-y="-4000">
				<h4 class="itb">STEP #1: API</h4>
				<span class="gray">Start w/a <img src="images/coldbox_200.png"> app</span>
				<img src="images/standardColdBoxApp.png" style="margin-left:175px;">
			</div>

			<div class="step 16" data-x="2000" data-y="-4000">
				<h4 class="itb">STEP #1: API</h4>
				<span class="gray">Make it headless & start api module</span><br>
				<img src="images/appOmissions.png"><img src="images/apiModule.png" style="float:right;">
			</div>

			<div class="step 17" data-x="4000" data-y="-4000" data-rotate="-90">
				<h4 class="itb">STEP #2: REST</h4>
				<p style="color:lightgray;">URI routes are built up w/a combo of resources and actions</p>
				<ul style="list-style-type:circle">
					<li><span class="gold">Resources = objects</span>
						<ul>
							<li class="gray">made/managed thru the model</li>
							<li class="gray">represented by nouns</li>
						</ul>
					</li>
					<li><span class="gold">Actions = functions</span>
						<ul>
							<li class="gray">built in the handlers</li>
							<li class="gray">represented by verbs</li>
						</ul>
					</li>
				</ul>
			</div>

			<div class="step 18" data-x="4000" data-y="-1500">
				<h5 class="itb">Basic Handler</h5>
				<img src="images/basicHandler.png"><img src="images/restHandler.png" style="float:right;">
			</div>

			<div class="step 19" data-x="4000" data-y="0" data-rotate="90">
				<h4 class="itb">Routes</h4>
				<span class="gold">Routes = "how we reach our handlers"</span><br>
				built in the <span style="color:#FF9900;">ModuleConfig.cfc</span><br>
				Build them up with:
				<ul style="list-style-type:circle">
					<li>resource (nouns)</li>
					<li>action (verbs)</li>
				</ul>
			</div>

			<div class="step 20" data-x="4000" data-y="2000">
				<h5 class="itb">basic ModuleConfig.cfc</h5>
				<img src="images/basicModuleConfig.png">
			</div>

			<div class="step 21" data-x="4000" data-y="4000" data-z="2000">
				<h5 class="itb">Example routes</h5>
				<p class="gold">List players?</p>
				<p class="gray">(baseURL)/api/player/list</p>
				<p class="gold">Get a player?</span> <span class="brown"><span class="dwarf">(http verb GET)</span></p>
				<p class="gray">(baseURL)/api/player/:playerID</p>
				<p class="gold">Make a player?</span> <span class="brown"><span class="dwarf">(http verb POST)</span></p>
				<p class="gray">(baseURL)/api/player/:playerID</p>
			</div>

			<div class="step 22" data-x="2000" data-y="4000">
				<h5 class="itb">Returning data</h5>
				<p class="gray">"The most common way to return data from your handler's action is to use the even object's <span class="standout">renderData()</span> method. It takes complex data and turns it into a string representation"</p>
				<span class="gold" style="float:right">- <img src="images/coldbox_200.png" style="position:relative; top:15px"> docs</span>
			</div>

			<div class="step 23" data-x="0" data-y="4000" data-z="-2000">
				<h5 class="itb">Return data formats</h5>
				<ul style="list-style-type:circle" class="gray">
					<li>XML</li>
					<li>JSON</li>
					<li>TEXT</li>
					<li>WDDX</li>
					<li>PDF</li>
					<li>HTML</li>
				</ul>
			</div>

			<div class="step 24" data-x="-2000" data-y="4000">
				<h5 class="itb">Setting up a return</h5>
				<br>
				<img src="images/sampleGetPlayer.png">
			</div>

			<div class="step 25" data-x="-4000" data-y="4000" data-rotate="360" data-z="2000">
				<h5 class="itb">Well, that was  <img src="images/easyButton.png" style="position: relative; top:100px; margin-left:30px;"></h5>
				<br>
				<h4 class="gold" style="margin-left:150px">Wasn't it?</h4>
			</div>

			<div class="step 26" data-x="-6000" data-y="4000" data-rotate="360">
				<h5 class="itb">Well, it was...</h5>
				<img src="images/bareBones.png">
				<h5 style="position:relative; top:230px; float:right" class="gold">Bare Bones!</h5>
			</div>

			<div id="bonevideo-step" class="step 27" data-x="-6000" data-y="2000" data-rotate="360" data-z="-2000">
				<video id="bonevideo" width="900" height="700" controls>
					<source src="videos/olaf-noBones.mp4" type="video/mp4">
				</video>
			</div>

			<div class="step 28" data-x="-6000" data-y="0" data-rotate="360">
				<h5 class="itb">Beyond "bare bones"</h5>
				<ul style="list-style-type:circle">
					<li class="brown">Status Codes</li>
					<li class="gray">Caching</li>
					<li class="gray">Security</li>
					<li class="brown">Restricting HTTP Verbs</li>
					<li class="gray">Error Handling</li>
					<li class="brown">Relax</li>
				</ul>
			</div>

			<div class="step 29" data-x="-6000" data-y="-2000" data-rotate="360" data-z="2000">
				<h5 class="itb">Status Codes</h5>
				<ul style="list-style-type:circle">
					<li><span class="gold">200</span> "OK"</li>
					<li><span class="gold">202</span> "Created"</li>
					<li><span class="gold">400</span> "Bad Request"</li>
					<li><span class="standout">401</span> "Unauthorized"</li>
					<li><span class="standout">404</span> "Not Found"</li>
					<li><span class="standout">500</span> "Server Error"</li>
				</ul>
			</div>

			<div class="step 30" data-x="-6000" data-y="-4000" data-rotate="360">
				<h5 class="itb">Using Status Codes</h5>
				<span class="gold">1. event.renderData()</span> <span class="dwarf">(shortcut)</span>
				<ul style="list-style-type:circle">
					<li>statusCode & statusMessage attr</li>
				</ul>
				<span class="gold">2. event.setHTTPHeader()</span> <span class="dwarf">(manual)</span>
				<ul style="list-style-type:circle">
					<li>statusCode & statusText attr</li>
				</ul>
				<img src="images/statusCodes.png">
			</div>

			<div class="step 31" data-x="-6000" data-y="-6000" data-rotate="360" data-z="-2000">
				<h5 class="itb">Restricting HTTP verbs</h5>
				in our routes, we mapped HTTP verbs to handler actions, but how can we prevent users from hitting resources w/the <span class="standout">wrong</span> verbs? (aka a GET to a delete function)
			</div>

			<div class="step 32" data-x="-4000" data-y="-6000" data-rotate="90">
				<h5 class="itb">this.allowedMethods</h5>
				allowedMethods property in handler can restrict those connections for us
				<img src="images/allowedMethods.png">
			</div>

			<div class="step 33" data-x="-2000" data-y="-6000" data-rotate="180" data-z="2000">
				<h3 class="itb">and now...</h3>
				<br>
				<h1 class="itb" style="float:right">RELAX!!!</h1>
			</div>

			<div class="step 34" data-x="0" data-y="-6000" data-rotate="270">
				<h5 class="itb">Resources</h5>
				<ul>
					<li><span class="gold">Coldbox REST docs</span>
						<ul>
							<li class="gray">http://wiki.coldbox.org/wiki/Building_Rest_APIs.cfm</li>
						</ul>
					</li>
					<li><span class="gold">Coldbox REST Refcard (PDF)</span>
						<ul>
							<li class="gray">https://github.com/ColdBox/cbox-refcards/raw/master/ColdBox%20REST%20APIs/ColdBox-REST-APIs-Refcard.pdf</li>
						</ul>
					</li>
					<li><span class="gold">Coldbox Relax docs</span>
						<ul>
							<li class="gray">http://wiki.coldbox.org/wiki/Projects:Relax.cfm</li>
						</ul>
					</li>
				</ul>
			</div>

			<!-- <div class="step 35" data-x="2000" data-y="-6000" data-rotate="360" data-z="-2000">

			</div> -->

			<div id="overview" class="step" data-x="0" data-y="0" data-scale="10"></div>

		</div>
	<script src="js/impress.js"></script>
	<script>
		impress().init();
		var videoStep = document.getElementById("video-step");
		var video = document.getElementById("video");
		videoStep.addEventListener("impress:stepenter", function() {
			video.play();
		}, false);
		videoStep.addEventListener("impress:stepleave", function() {
			video.pause();
		}, false);
		var bonevideoStep = document.getElementById("bonevideo-step");
		var bonevideo = document.getElementById("bonevideo");
		bonevideoStep.addEventListener("impress:stepenter", function() {
			bonevideo.play();
		}, false);
		bonevideoStep.addEventListener("impress:stepleave", function() {
			video.pause();
		}, false);
	</script>
	</body>
</html>